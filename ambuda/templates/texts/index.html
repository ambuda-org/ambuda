{% extends 'base-text.html' %}
{% import "macros/components.html" as m %}


{% macro text_list(key, title) %}
<h2 class="font-bold text-2xl py-2 mt-8 mb-4 border-b">{{ title }}</h2>

<ul>
{% for slug in categories[key] if slug in texts %}
  {% set text = texts[slug] %}
  {% set url = url_for('texts.text', slug=text.slug) %}
  <li><a class="py-1 block text-xl hover:underline" href="{{ url }}">
    {{ text.title | devanagari }}
  </a></li>
{% endfor %}
</ul> 
{% endmacro %}


{% block title %}{{ m.title(_('Texts')) }}{% endblock %}


{% block meta_description -%}Our breakthrough library features word-by-word
analysis and integrated dictionary support for a variety of Sanskrit works.
{%- endblock %}

{% block header %}
<div class="text-sky-900 bg-slate-100 border-b mb-4">
  <div class="border-b border-slate-300">
    {% include "include/header.html" %}
  </div>

  <header class="text-center py-24">
    <h1 class="font-bold text-5xl">{{ _('Texts') }}</h1>
  </header>
</div>
{% endblock %}


{% block main %}

<article class="p-4 md:p-0 max-w-xl mx-auto md:my-24 md:mb-36">
{{ text_list('upanishat', _('Upanishads')) }}
{{ text_list('itihasa', _('Itihasas')) }}
{{ text_list('kavya', _('Kavyas')) }}
{{ text_list('anye', _('Other works')) }}

</article>
{% endblock %}
