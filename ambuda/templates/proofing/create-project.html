{% extends 'proofing/base-sidebar.html' %}

{% import "macros/components.html" as components %}
{% import "macros/proofing.html" as m %}
{% import "macros/talk.html" as m_talk %}
{% import "macros/forms.html" as mf %}


{% macro step(n, text) %}
<h2 class="text-2xl mt-8 mb-4 pb-2 border-b"><span class="font-bold">Step {{ n }}</span> &mdash; {{ text }}</h2>
{% endmacro %}


{% block title %}Create project | Ambuda{% endblock %}


{% block sidebar %}{{ m.main_nav('create') }}{% endblock %}


{% block content %}
{{ m.title_and_subtitle(
    "Create a project",
    "Use our simple uploader to create a new proofing project.") }}


{{ components.flash_messages() }}
{{ mf.show_errors_if_any(form.errors) }}

<form action="" method="POST" enctype="multipart/form-data" x-data="projectUploader">
{{ form.csrf_token }}

{{ step(1, "Learn") }}

<div class="prose">
<p>We are interested in any book that has some connection to Sanskrit
literature. This includes:</p>

<ul>
  <li>original texts</li>
  <li>commentaries</li>
  <li>translations</li>
  <li>dictionaries</li>
  <li>grammar books</li>
</ul>

<p>And so on.</p>

<p>Our only restriction is that the book must be available under a permissive
license, so that we can host the book on our servers and make it available to
others. (We'll help you determine a book's license further below.)</p>

<p>To avoid duplicating effort, we also prefer that you use books that don't
already have a transcription available elsewhere on the Internet.</p>
</div>


{{ step(2, "Upload") }}

<div class="prose">
<p>Right now, our uploader supports PDF documents only. Where is your PDF
coming from?</p>

{% set radios = form.pdf_source|list %}
<fieldset>
  <div class="text-lg">
    <input id="pdf_source-0" name="pdf_source" type="radio" value="archive.org" x-model="source">
    <label for="pdf_source-0">From archive.org</label>
  </div>
  <div class="my-4" x-show="source === 'archive.org'">
    <p>We'll fetch the PDF for you from archive.org. To do so, we need the
    PDF's <dfn>identifier</dfn>, which is the short text ID that follows
    <kbd>/details/</kbd> in the URL.</p>

    <div class="p-2 bg-slate-100">
    <kbd>https://archive.org/details/</kbd><input class="rounded border p-1" type="text" placeholder="charucharya_hindi"></input>
    </div>
  </div>

  <div class="text-lg">
    <input id="pdf_source-1" name="pdf_source" type="radio" value="my-computer" x-model="source" @>
    <label for="pdf_source-1">From my computer</label>
  </div>
  <div class="my-4" x-show="source === 'my-computer'">
    <p>We'll copy the PDF from your computer. Please use the form below to find
    a PDF on your computer:</p>

    <div class="p-4 my-2 bg-slate-100">
      {{ form.file }}
    </div>

    <p clas="my-2">We also need a title for this PDF:</p>

    <div class="p-4 bg-slate-100">
      {{ form.title(class_="p-2 block w-full", placeholder="My cool title") }}
    </div>
  </div>
</fieldset>
</div>

{{ step(3, "Verify") }}

<div class="prose">
<p>What is the license of this book?</p> 

This book is in the public domain.
This book is available under a permissive license.
This book is copyrighted, but I have permission to upload it.

<p>For our purposes, the following books are in the public domain:</p>

<ul>
  <li>Books published in India on or before 1957.</li>
  <li>Books published in the United States on or before 1927.</li>
</ul>

</div>

  <input class="block btn btn-submit" type="submit" value="Upload PDF">
</form>
{% endblock %}
